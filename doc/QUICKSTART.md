# å¿«é€Ÿé–‹å§‹æŒ‡å—

## 5åˆ†é˜å¿«é€Ÿä¸Šæ‰‹ ğŸš€

### ç¬¬ä¸€æ­¥ï¼šè‡ªå‹•å®‰è£

åŸ·è¡Œå®‰è£è…³æœ¬ï¼Œå®ƒæœƒè‡ªå‹•å¹«æ‚¨è¨­ç½®æ‰€æœ‰ç’°å¢ƒï¼š

```bash
python setup.py
```

å®‰è£éç¨‹ä¸­æœƒï¼š
- âœ… æª¢æŸ¥ Python ç‰ˆæœ¬
- âœ… å®‰è£æ‰€éœ€å¥—ä»¶
- âœ… è¨­ç½®ç’°å¢ƒæª”æ¡ˆ
- âœ… å»ºç«‹ç›®éŒ„çµæ§‹
- âœ… åŸ·è¡Œç³»çµ±æ¸¬è©¦

### ç¬¬äºŒæ­¥ï¼šé–‹å§‹ä½¿ç”¨

å®‰è£å®Œæˆå¾Œï¼Œç«‹å³é–‹å§‹ä½¿ç”¨ï¼š

```bash
python main.py
```

ç³»çµ±æœƒè‡ªå‹•ï¼š
1. å¾æ³•å‹™éƒ¨ç¶²ç«™ä¸‹è¼‰æœ€æ–°æ³•è¦ ğŸ“¥
2. å»ºç«‹æ™ºæ…§ç´¢å¼• ğŸ§ 
3. å•Ÿå‹•å•ç­”ä»‹é¢ ğŸ’¬

### ç¬¬ä¸‰æ­¥ï¼šé–‹å§‹æå•

ç³»çµ±å•Ÿå‹•å¾Œï¼Œæ‚¨å°±å¯ä»¥é–‹å§‹å•å•é¡Œäº†ï¼

#### å¸¸è¦‹å•é¡Œç¯„ä¾‹ï¼š

**é—œæ–¼é£Ÿå“æ·»åŠ ç‰©ï¼š**
```
å•ï¼šé£Ÿå“æ·»åŠ ç‰©æœ‰ä»€éº¼ä½¿ç”¨é™åˆ¶ï¼Ÿ
ç­”ï¼šæ ¹æ“šé£Ÿå“å®‰å…¨è¡›ç”Ÿç®¡ç†æ³•ç¬¬18æ¢è¦å®šï¼Œé£Ÿå“æ·»åŠ ç‰©ä¹‹ä½¿ç”¨æ‡‰ç¬¦åˆä»¥ä¸‹è¦å®šï¼š
    ä¸€ã€ä½¿ç”¨ç¯„åœåŠé™é‡æ¨™æº–ï¼Œæ‡‰ç¬¦åˆä¸­å¤®ä¸»ç®¡æ©Ÿé—œä¹‹è¦å®š...
```

**é—œæ–¼è™•ç½°è¦å®šï¼š**
```
å•ï¼šè²©å”®éæœŸé£Ÿå“æœƒå—åˆ°ä»€éº¼è™•ç½°ï¼Ÿ
ç­”ï¼šä¾æ“šç¬¬44æ¢è¦å®šï¼Œè²©è³£é€¾æœ‰æ•ˆæ—¥æœŸä¹‹é£Ÿå“è€…ï¼Œè™•æ–°è‡ºå¹£å…­è¬å…ƒä»¥ä¸ŠäºŒå„„å…ƒä»¥ä¸‹ç½°é°...
```

**é—œæ–¼æ¨™ç¤ºè¦æ±‚ï¼š**
```
å•ï¼šé£Ÿå“æ¨™ç¤ºéœ€è¦åŒ…å«ä»€éº¼å…§å®¹ï¼Ÿ
ç­”ï¼šä¾ç¬¬22æ¢è¦å®šï¼Œé£Ÿå“åŠé£Ÿå“åŸæ–™ä¹‹å®¹å™¨æˆ–å¤–åŒ…è£ï¼Œæ‡‰æ˜é¡¯æ¨™ç¤ºä¸‹åˆ—äº‹é …ï¼š
    ä¸€ã€å“å... äºŒã€å…§å®¹ç‰©åç¨±... ä¸‰ã€æ·¨é‡ã€å®¹é‡æˆ–æ•¸é‡...
```

## é€²éšä½¿ç”¨ ğŸ¯

### å–®æ¬¡æŸ¥è©¢æ¨¡å¼

ä¸éœ€è¦é€²å…¥äº’å‹•æ¨¡å¼ï¼Œç›´æ¥æŸ¥è©¢ï¼š

```bash
python main.py -q "é£Ÿå“è£½é€ æ¥­è€…çš„è¡›ç”Ÿæ¢ä»¶æ˜¯ä»€éº¼ï¼Ÿ"
```

### æ‰¹æ¬¡æŸ¥è©¢æ¨¡å¼

ä¸€æ¬¡è™•ç†å¤šå€‹å•é¡Œï¼š

```bash
python main.py --batch config/query_examples.txt
```

### ç³»çµ±ç¶­è­·

æ›´æ–°æ³•è¦è³‡æ–™ï¼š
```bash
python main.py --fetch-data
```

é‡å»ºç´¢å¼•ï¼š
```bash
python main.py --rebuild-index
```

æª¢è¦–ç³»çµ±ç‹€æ…‹ï¼š
```bash
python main.py --stats
```

## ç³»çµ±æ¸¬è©¦ ğŸ§ª

éš¨æ™‚æª¢æŸ¥ç³»çµ±ç‹€æ…‹ï¼š

```bash
python test_system.py
```

æ¸¬è©¦æœƒæª¢æŸ¥ï¼š
- ğŸ”§ ç’°å¢ƒè¨­ç½®
- ğŸ“ æª”æ¡ˆçµæ§‹
- ğŸ“¥ è³‡æ–™æ“·å–åŠŸèƒ½
- ğŸ“„ æ–‡ä»¶è™•ç†åŠŸèƒ½
- ğŸ—‚ï¸ å‘é‡ç´¢å¼•åŠŸèƒ½
- ğŸ¤– RAG æŸ¥è©¢åŠŸèƒ½

## å¸¸è¦‹å•é¡Œ â“

### Q: ç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦å¤šä¹…ï¼Ÿ
**A:** ç´„5-10åˆ†é˜ï¼ŒåŒ…å«ï¼š
- å¥—ä»¶å®‰è£ï¼š2-3åˆ†é˜
- æ³•è¦ä¸‹è¼‰ï¼š3-5åˆ†é˜
- ç´¢å¼•å»ºç«‹ï¼š2-3åˆ†é˜

### Q: å¦‚ä½•ç²å¾—æ›´æº–ç¢ºçš„ç­”æ¡ˆï¼Ÿ
**A:** æå•æŠ€å·§ï¼š
- âœ… ä½¿ç”¨å…·é«”çš„æ³•å¾‹è¡“èª
- âœ… æ˜ç¢ºæè¿°æƒ…å¢ƒï¼šã€Œé¤å»³æ¥­è€…...ã€
- âœ… æŒ‡å®šæŸ¥è©¢é¡å‹ï¼šã€Œè™•ç½°è¦å®šã€ã€ã€Œæ¨™ç¤ºè¦æ±‚ã€
- âŒ é¿å…éæ–¼ç± çµ±çš„å•é¡Œ

### Q: ç³»çµ±æ”¯æ´å“ªäº›æŸ¥è©¢é¡å‹ï¼Ÿ
**A:** è‡ªå‹•è­˜åˆ¥çš„æŸ¥è©¢é¡å‹ï¼š
- ğŸ›ï¸ **penalty**: è™•ç½°ã€ç½°å‰‡ç›¸é—œ
- ğŸ·ï¸ **labeling**: æ¨™ç¤ºã€æ¨™ç±¤ç›¸é—œ
- ğŸ§ª **additives**: é£Ÿå“æ·»åŠ ç‰©ç›¸é—œ
- ğŸ§½ **hygiene**: è¡›ç”Ÿã€æ¸…æ½”ç›¸é—œ
- ğŸ” **inspection**: æª¢é©—ã€ç¨½æŸ¥ç›¸é—œ
- ğŸ“¦ **import**: é€²å£ã€é‚Šå¢ƒç®¡åˆ¶ç›¸é—œ
- ğŸ­ **manufacturing**: è£½é€ ã€åŠ å·¥ç›¸é—œ

### Q: å¦‚ä½•æå‡ç³»çµ±æ•ˆèƒ½ï¼Ÿ
**A:** æ•ˆèƒ½å„ªåŒ–å»ºè­°ï¼š
- èª¿æ•´ `similarity_top_k` åƒæ•¸ï¼ˆé è¨­5ï¼‰
- ä¿®æ”¹ `similarity_cutoff` é–¾å€¼ï¼ˆé è¨­0.6ï¼‰
- åœ¨ `src/rag_system.py` ä¸­å¯¦ä½œè‡ªè¨‚ç›¸é—œåº¦è©•åˆ†

## è‡ªè¨‚å’Œæ“´å±• ğŸ› ï¸

### å¯¦ä½œè‡ªè¨‚ç›¸é—œåº¦è©•åˆ†

ç·¨è¼¯ `src/rag_system.py` ä¸­çš„ `calculate_relevance_score()` å‡½æ•¸ï¼š

```python
def calculate_relevance_score(self, query: str, sources: List[Dict[str, Any]]) -> List[Dict[str, Any]]:
    # æ‚¨çš„è‡ªè¨‚é‚è¼¯
    for source in sources:
        base_score = source['similarity_score']

        # æ ¹æ“šæŸ¥è©¢é¡å‹èª¿æ•´æ¬Šé‡
        if 'penalty' in query and source['chunk_type'] == 'article_penalties':
            source['relevance_score'] = base_score * 1.2
        else:
            source['relevance_score'] = base_score

    return sorted(sources, key=lambda x: x['relevance_score'], reverse=True)
```

### æ–°å¢å…¶ä»–æ³•è¦

1. ä¿®æ”¹ `src/data_fetcher.py` æ”¯æ´æ–°çš„ç¶²ç«™
2. èª¿æ•´ `src/document_processor.py` è™•ç†ä¸åŒæ ¼å¼
3. æ›´æ–° `src/rag_system.py` çš„æŸ¥è©¢åˆ†é¡

## æŠ€è¡“æ”¯æ´ ğŸ’¡

å¦‚æœé‡åˆ°å•é¡Œï¼š

1. **é¦–å…ˆåŸ·è¡Œæ¸¬è©¦**ï¼š`python test_system.py`
2. **æª¢æŸ¥ç’°å¢ƒè¨­ç½®**ï¼šç¢ºèª `.env` æª”æ¡ˆä¸­çš„ API key
3. **æŸ¥çœ‹è©³ç´°æ–‡ä»¶**ï¼šé–±è®€ `README.md`
4. **é‡æ–°å®‰è£**ï¼šåˆªé™¤ `chroma_db` ç›®éŒ„ä¸¦é‡æ–°åŸ·è¡Œ

---

**ğŸ‰ ç¾åœ¨é–‹å§‹æ¢ç´¢å°ç£é£Ÿå“å®‰å…¨æ³•è¦å§ï¼**

è¼¸å…¥ `python main.py` é–‹å§‹æ‚¨çš„ç¬¬ä¸€æ¬¡æŸ¥è©¢ï¼